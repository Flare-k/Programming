> id <- c(1:4)> name <- c("갑","을","병","정")> age <- c(22,34,30,28)> isMarried <- c(F,T,F,T)> df <- data.frame(id,name,age,isMarried)> df  id name age isMarried1  1   갑  22     FALSE2  2   을  34      TRUE3  3   병  30     FALSE4  4   정  28      TRUE> data.frame(c(1:4),c("갑","을","병","정"),c(22,34,30,28),c(F,T,F,T))  c.1.4. c..갑....을....병....정.. c.22..34..30..28. c.F..T..F..T.1      1                        갑                22         FALSE2      2                        을                34          TRUE3      3                        병                30         FALSE4      4                        정                28          TRUE> data.frame(id=c(1:4),name=c("갑","을","병","정"),age=c(22,34,30,28),isMarried=c(F,T,F,T)) #변수명 지정  id name age isMarried1  1   갑  22     FALSE2  2   을  34      TRUE3  3   병  30     FALSE4  4   정  28      TRUE> str(df) #데이터 구조 파악 -> name 변수 팩터로 자동 지정 확인'data.frame':	4 obs. of  4 variables: $ id       : int  1 2 3 4 $ name     : Factor w/ 4 levels "갑","병","을",..: 1 3 2 4 $ age      : num  22 34 30 28 $ isMarried: logi  FALSE TRUE FALSE TRUE> df <- data.frame(id,name,age,isMarried,stringsAsFactors = F)> str(df)'data.frame':	4 obs. of  4 variables: $ id       : int  1 2 3 4 $ name     : chr  "갑" "을" "병" "정" $ age      : num  22 34 30 28 $ isMarried: logi  FALSE TRUE FALSE TRUE>  df[2,3][1] 34> df[c(1,2),c(3,4)]  age isMarried1  22     FALSE2  34      TRUE> df[,c(3,4)] # 모든 행 추출  age isMarried1  22     FALSE2  34      TRUE3  30     FALSE4  28      TRUE> df[c(1,2),] # 모든 열 추출  id name age isMarried1  1   갑  22     FALSE2  2   을  34      TRUE> df[,c("id","name")]  id name1  1   갑2  2   을3  3   병4  4   정> df$name #벡터형태로 출력
[1] "갑" "을" "병" "정"
>> #벡터형태로 출력> df$name[2][1] "을"> df$name[c(1,3)][1] "갑" "병"> iris    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species1            5.1         3.5          1.4         0.2     setosa2            4.9         3.0          1.4         0.2     setosa3            4.7         3.2          1.3         0.2     setosa4            4.6         3.1          1.5         0.2     setosa5            5.0         3.6          1.4         0.2     setosa6            5.4         3.9          1.7         0.4     setosa7            4.6         3.4          1.4         0.3     setosa8            5.0         3.4          1.5         0.2     setosa9            4.4         2.9          1.4         0.2     setosa10           4.9         3.1          1.5         0.1     setosa11           5.4         3.7          1.5         0.2     setosa12           4.8         3.4          1.6         0.2     setosa13           4.8         3.0          1.4         0.1     setosa14           4.3         3.0          1.1         0.1     setosa15           5.8         4.0          1.2         0.2     setosa16           5.7         4.4          1.5         0.4     setosa17           5.4         3.9          1.3         0.4     setosa18           5.1         3.5          1.4         0.3     setosa19           5.7         3.8          1.7         0.3     setosa20           5.1         3.8          1.5         0.3     setosa21           5.4         3.4          1.7         0.2     setosa22           5.1         3.7          1.5         0.4     setosa23           4.6         3.6          1.0         0.2     setosa24           5.1         3.3          1.7         0.5     setosa25           4.8         3.4          1.9         0.2     setosa26           5.0         3.0          1.6         0.2     setosa27           5.0         3.4          1.6         0.4     setosa28           5.2         3.5          1.5         0.2     setosa29           5.2         3.4          1.4         0.2     setosa30           4.7         3.2          1.6         0.2     setosa31           4.8         3.1          1.6         0.2     setosa32           5.4         3.4          1.5         0.4     setosa33           5.2         4.1          1.5         0.1     setosa34           5.5         4.2          1.4         0.2     setosa35           4.9         3.1          1.5         0.2     setosa36           5.0         3.2          1.2         0.2     setosa37           5.5         3.5          1.3         0.2     setosa38           4.9         3.6          1.4         0.1     setosa39           4.4         3.0          1.3         0.2     setosa40           5.1         3.4          1.5         0.2     setosa41           5.0         3.5          1.3         0.3     setosa42           4.5         2.3          1.3         0.3     setosa43           4.4         3.2          1.3         0.2     setosa44           5.0         3.5          1.6         0.6     setosa45           5.1         3.8          1.9         0.4     setosa46           4.8         3.0          1.4         0.3     setosa47           5.1         3.8          1.6         0.2     setosa48           4.6         3.2          1.4         0.2     setosa49           5.3         3.7          1.5         0.2     setosa50           5.0         3.3          1.4         0.2     setosa51           7.0         3.2          4.7         1.4 versicolor52           6.4         3.2          4.5         1.5 versicolor53           6.9         3.1          4.9         1.5 versicolor54           5.5         2.3          4.0         1.3 versicolor55           6.5         2.8          4.6         1.5 versicolor56           5.7         2.8          4.5         1.3 versicolor57           6.3         3.3          4.7         1.6 versicolor58           4.9         2.4          3.3         1.0 versicolor59           6.6         2.9          4.6         1.3 versicolor60           5.2         2.7          3.9         1.4 versicolor61           5.0         2.0          3.5         1.0 versicolor62           5.9         3.0          4.2         1.5 versicolor63           6.0         2.2          4.0         1.0 versicolor64           6.1         2.9          4.7         1.4 versicolor65           5.6         2.9          3.6         1.3 versicolor66           6.7         3.1          4.4         1.4 versicolor67           5.6         3.0          4.5         1.5 versicolor68           5.8         2.7          4.1         1.0 versicolor69           6.2         2.2          4.5         1.5 versicolor70           5.6         2.5          3.9         1.1 versicolor71           5.9         3.2          4.8         1.8 versicolor72           6.1         2.8          4.0         1.3 versicolor73           6.3         2.5          4.9         1.5 versicolor74           6.1         2.8          4.7         1.2 versicolor75           6.4         2.9          4.3         1.3 versicolor76           6.6         3.0          4.4         1.4 versicolor77           6.8         2.8          4.8         1.4 versicolor78           6.7         3.0          5.0         1.7 versicolor79           6.0         2.9          4.5         1.5 versicolor80           5.7         2.6          3.5         1.0 versicolor81           5.5         2.4          3.8         1.1 versicolor82           5.5         2.4          3.7         1.0 versicolor83           5.8         2.7          3.9         1.2 versicolor84           6.0         2.7          5.1         1.6 versicolor85           5.4         3.0          4.5         1.5 versicolor86           6.0         3.4          4.5         1.6 versicolor87           6.7         3.1          4.7         1.5 versicolor88           6.3         2.3          4.4         1.3 versicolor89           5.6         3.0          4.1         1.3 versicolor90           5.5         2.5          4.0         1.3 versicolor91           5.5         2.6          4.4         1.2 versicolor92           6.1         3.0          4.6         1.4 versicolor93           5.8         2.6          4.0         1.2 versicolor94           5.0         2.3          3.3         1.0 versicolor95           5.6         2.7          4.2         1.3 versicolor96           5.7         3.0          4.2         1.2 versicolor97           5.7         2.9          4.2         1.3 versicolor98           6.2         2.9          4.3         1.3 versicolor99           5.1         2.5          3.0         1.1 versicolor100          5.7         2.8          4.1         1.3 versicolor101          6.3         3.3          6.0         2.5  virginica102          5.8         2.7          5.1         1.9  virginica103          7.1         3.0          5.9         2.1  virginica104          6.3         2.9          5.6         1.8  virginica105          6.5         3.0          5.8         2.2  virginica106          7.6         3.0          6.6         2.1  virginica107          4.9         2.5          4.5         1.7  virginica108          7.3         2.9          6.3         1.8  virginica109          6.7         2.5          5.8         1.8  virginica110          7.2         3.6          6.1         2.5  virginica111          6.5         3.2          5.1         2.0  virginica112          6.4         2.7          5.3         1.9  virginica113          6.8         3.0          5.5         2.1  virginica114          5.7         2.5          5.0         2.0  virginica115          5.8         2.8          5.1         2.4  virginica116          6.4         3.2          5.3         2.3  virginica117          6.5         3.0          5.5         1.8  virginica118          7.7         3.8          6.7         2.2  virginica119          7.7         2.6          6.9         2.3  virginica120          6.0         2.2          5.0         1.5  virginica121          6.9         3.2          5.7         2.3  virginica122          5.6         2.8          4.9         2.0  virginica123          7.7         2.8          6.7         2.0  virginica124          6.3         2.7          4.9         1.8  virginica125          6.7         3.3          5.7         2.1  virginica126          7.2         3.2          6.0         1.8  virginica127          6.2         2.8          4.8         1.8  virginica128          6.1         3.0          4.9         1.8  virginica129          6.4         2.8          5.6         2.1  virginica130          7.2         3.0          5.8         1.6  virginica131          7.4         2.8          6.1         1.9  virginica132          7.9         3.8          6.4         2.0  virginica133          6.4         2.8          5.6         2.2  virginica134          6.3         2.8          5.1         1.5  virginica135          6.1         2.6          5.6         1.4  virginica136          7.7         3.0          6.1         2.3  virginica137          6.3         3.4          5.6         2.4  virginica138          6.4         3.1          5.5         1.8  virginica139          6.0         3.0          4.8         1.8  virginica140          6.9         3.1          5.4         2.1  virginica141          6.7         3.1          5.6         2.4  virginica142          6.9         3.1          5.1         2.3  virginica143          5.8         2.7          5.1         1.9  virginica144          6.8         3.2          5.9         2.3  virginica145          6.7         3.3          5.7         2.5  virginica146          6.7         3.0          5.2         2.3  virginica147          6.3         2.5          5.0         1.9  virginica148          6.5         3.0          5.2         2.0  virginica149          6.2         3.4          5.4         2.3  virginica150          5.9         3.0          5.1         1.8  virginica> str(iris)'data.frame':	150 obs. of  5 variables: $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ... $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ... $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...> str(iris$Sepal.Length) num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...> head(iris) #기본 6개 출력  Sepal.Length Sepal.Width Petal.Length Petal.Width Species1          5.1         3.5          1.4         0.2  setosa2          4.9         3.0          1.4         0.2  setosa3          4.7         3.2          1.3         0.2  setosa4          4.6         3.1          1.5         0.2  setosa5          5.0         3.6          1.4         0.2  setosa6          5.4         3.9          1.7         0.4  setosa> head(iris,10) # 10개 출력   Sepal.Length Sepal.Width Petal.Length Petal.Width Species1           5.1         3.5          1.4         0.2  setosa2           4.9         3.0          1.4         0.2  setosa3           4.7         3.2          1.3         0.2  setosa4           4.6         3.1          1.5         0.2  setosa5           5.0         3.6          1.4         0.2  setosa6           5.4         3.9          1.7         0.4  setosa7           4.6         3.4          1.4         0.3  setosa8           5.0         3.4          1.5         0.2  setosa9           4.4         2.9          1.4         0.2  setosa10          4.9         3.1          1.5         0.1  setosa> tail(iris) #하위 6개 출력    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species145          6.7         3.3          5.7         2.5 virginica146          6.7         3.0          5.2         2.3 virginica147          6.3         2.5          5.0         1.9 virginica148          6.5         3.0          5.2         2.0 virginica149          6.2         3.4          5.4         2.3 virginica150          5.9         3.0          5.1         1.8 virginica> levels(iris$Species) #범주 종류 확인[1] "setosa"     "versicolor" "virginica" > #개수 세는 함수들> > nrow(iris) #행개수[1] 150> ncol(iris) #열개수[1] 5> table(iris$Species)    setosa versicolor  virginica         50         50         50 > summary(iris)  Sepal.Length    Sepal.Width     Petal.Length    Petal.Width    Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100   1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300   Median :5.800   Median :3.000   Median :4.350   Median :1.300   Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199   3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800   Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500         Species   setosa    :50   versicolor:50   virginica :50                                                  > min(iris$Sepal.Length); max(iris$Sepal.Length) ; median(iris$Sepal.Length) #quantile 50%와 동일[1] 4.3[1] 7.9[1] 5.8> mean(iris$Sepal.Length); quantile(iris$Sepal.Length) #사분위수[1] 5.843333  0%  25%  50%  75% 100%  4.3  5.1  5.8  6.4  7.9 > View(iris)> > # subset(데이터명,원하는조건)> subset(iris,Sepal.Length > 7)    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species103          7.1         3.0          5.9         2.1 virginica106          7.6         3.0          6.6         2.1 virginica108          7.3         2.9          6.3         1.8 virginica110          7.2         3.6          6.1         2.5 virginica118          7.7         3.8          6.7         2.2 virginica119          7.7         2.6          6.9         2.3 virginica123          7.7         2.8          6.7         2.0 virginica126          7.2         3.2          6.0         1.8 virginica130          7.2         3.0          5.8         1.6 virginica131          7.4         2.8          6.1         1.9 virginica132          7.9         3.8          6.4         2.0 virginica136          7.7         3.0          6.1         2.3 virginica> subset(iris,Sepal.Length > 7 & Petal.Length < 6.5)    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species103          7.1         3.0          5.9         2.1 virginica108          7.3         2.9          6.3         1.8 virginica110          7.2         3.6          6.1         2.5 virginica126          7.2         3.2          6.0         1.8 virginica130          7.2         3.0          5.8         1.6 virginica131          7.4         2.8          6.1         1.9 virginica132          7.9         3.8          6.4         2.0 virginica136          7.7         3.0          6.1         2.3 virginica> subset(iris,Sepal.Length > 7 | Petal.Length > 6.5) # ~7 이상 또는 ~6.5 이상 인 것.    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species103          7.1         3.0          5.9         2.1 virginica106          7.6         3.0          6.6         2.1 virginica108          7.3         2.9          6.3         1.8 virginica110          7.2         3.6          6.1         2.5 virginica118          7.7         3.8          6.7         2.2 virginica119          7.7         2.6          6.9         2.3 virginica123          7.7         2.8          6.7         2.0 virginica126          7.2         3.2          6.0         1.8 virginica130          7.2         3.0          5.8         1.6 virginica131          7.4         2.8          6.1         1.9 virginica132          7.9         3.8          6.4         2.0 virginica136          7.7         3.0          6.1         2.3 virginica> subset(iris,Sepal.Length > max(Sepal.Length)-1) #숫자 말고 함수 넣어도 됨.    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species51           7.0         3.2          4.7         1.4 versicolor103          7.1         3.0          5.9         2.1  virginica106          7.6         3.0          6.6         2.1  virginica108          7.3         2.9          6.3         1.8  virginica110          7.2         3.6          6.1         2.5  virginica118          7.7         3.8          6.7         2.2  virginica119          7.7         2.6          6.9         2.3  virginica123          7.7         2.8          6.7         2.0  virginica126          7.2         3.2          6.0         1.8  virginica130          7.2         3.0          5.8         1.6  virginica131          7.4         2.8          6.1         1.9  virginica132          7.9         3.8          6.4         2.0  virginica136          7.7         3.0          6.1         2.3  virginica> # 특정 열(변수) 추출방법> subset(iris, Sepal.Length > 7& Petal.Length < 6.5,select = c(1,5)) #변수 위치로 추출    Sepal.Length   Species103          7.1 virginica108          7.3 virginica110          7.2 virginica126          7.2 virginica130          7.2 virginica131          7.4 virginica132          7.9 virginica136          7.7 virginica> subset(iris, Sepal.Length > 7& Petal.Length < 6.5,select = c(Sepal.Length,Species)) #변수명으로 추출    Sepal.Length   Species103          7.1 virginica108          7.3 virginica110          7.2 virginica126          7.2 virginica130          7.2 virginica131          7.4 virginica132          7.9 virginica136          7.7 virginica> subset(iris, Sepal.Length > 7& Petal.Length < 6.5,select = c(5,1)) #변수 순서 지정      Species Sepal.Length103 virginica          7.1108 virginica          7.3110 virginica          7.2126 virginica          7.2130 virginica          7.2131 virginica          7.4132 virginica          7.9136 virginica          7.7> #select = c(1,5) -> 1~5열 의미> > # 특정 열(변수) 제거방법> > subset(iris, Sepal.Length > 7& Petal.Length < 6.5,select = -c(1,5))    Sepal.Width Petal.Length Petal.Width103         3.0          5.9         2.1108         2.9          6.3         1.8110         3.6          6.1         2.5126         3.2          6.0         1.8130         3.0          5.8         1.6131         2.8          6.1         1.9132         3.8          6.4         2.0136         3.0          6.1         2.3> subset(iris, Sepal.Length > 7& Petal.Length < 6.5,select = -c(Sepal.Length,Species))    Sepal.Width Petal.Length Petal.Width103         3.0          5.9         2.1108         2.9          6.3         1.8110         3.6          6.1         2.5126         3.2          6.0         1.8130         3.0          5.8         1.6131         2.8          6.1         1.9132         3.8          6.4         2.0136         3.0          6.1         2.3> #위 두 코드는 같은 내용> > > > # subset 함수 안쓰고 인덱싱> iris[iris$Sepal.Length > 7& iris$Petal.Length <= 6.5]Error in `[.data.frame`(iris, iris$Sepal.Length > 7 & iris$Petal.Length <=  :   undefined columns selected> #열에 대한 정보가 정의되지 않음> > iris[iris$Sepal.Length > 7& iris$Petal.Length <= 6.5,]    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species103          7.1         3.0          5.9         2.1 virginica108          7.3         2.9          6.3         1.8 virginica110          7.2         3.6          6.1         2.5 virginica126          7.2         3.2          6.0         1.8 virginica130          7.2         3.0          5.8         1.6 virginica131          7.4         2.8          6.1         1.9 virginica132          7.9         3.8          6.4         2.0 virginica136          7.7         3.0          6.1         2.3 virginica> #[행]과 [행,]은 다르다> iris[iris$Sepal.Length > 7& iris$Petal.Length <= 6.5,][,c(1,5)]    Sepal.Length   Species103          7.1 virginica108          7.3 virginica110          7.2 virginica126          7.2 virginica130          7.2 virginica131          7.4 virginica132          7.9 virginica136          7.7 virginica> > > # attach/detach> Sepal.Length[1:30]Error: object 'Sepal.Length' not found> attach(iris)> Sepal.Length[1:30] [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8[16] 5.7 5.4 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7> iris$Sepal.Length[1:30] [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8[16] 5.7 5.4 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7> iris[Sepal.Length > 7& Petal.Length <= 6.5,]     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species103          7.1         3.0          5.9         2.1 virginica108          7.3         2.9          6.3         1.8 virginica110          7.2         3.6          6.1         2.5 virginica126          7.2         3.2          6.0         1.8 virginica130          7.2         3.0          5.8         1.6 virginica131          7.4         2.8          6.1         1.9 virginica132          7.9         3.8          6.4         2.0 virginica136          7.7         3.0          6.1         2.3 virginica> detach(iris)> iris[Sepal.Length > 7& Petal.Length <= 6.5,] Error in `[.data.frame`(iris, Sepal.Length > 7 & Petal.Length <= 6.5,  :   object 'Sepal.Length' not found> # 변수 한개만 인덱싱 하는 경우> > head(iris[,c("Sepal.Length")])[1] 5.1 4.9 4.7 4.6 5.0 5.4> head(iris[,c("Sepal.Length"),drop=F])  Sepal.Length1          5.12          4.93          4.74          4.65          5.06          5.4> str(iris[,c("Sepal.Length")]) # 벡터 num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...> str(iris[,c("Sepal.Length"),drop=F]) # 데이터프레임'data.frame':	150 obs. of  1 variable: $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...> df  id name age isMarried1  1   갑  22     FALSE2  2   을  34      TRUE3  3   병  30     FALSE4  4   정  28      TRUE> which(df == T)[1]  1 14 16> which(df == T, arr.ind = T)     row col[1,]   1   1[2,]   2   4[3,]   4   4> ex_df <- data.frame(name=c("이정민","김영석","고광민","최지은"),age=c(24,24,23,23),sex=c("남","남","남","여"), stringsAsFactors=F)> ex_df    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  남4 최지은  23  여> str(ex_df)'data.frame':	4 obs. of  3 variables: $ name: chr  "이정민" "김영석" "고광민" "최지은" $ age : num  24 24 23 23 $ sex : chr  "남" "남" "남" "여"> order(ex_df$age)[1] 3 4 1 2> ex_df[order(ex_df$age),]    name age sex3 고광민  23  남4 최지은  23  여1 이정민  24  남2 김영석  24  남> ex_df[order(ex_df$age,decreasing = T),] #내림차순    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  남4 최지은  23  여> ex_df[order(ex_df$age,ex_df$sex,decreasing = T),] # 나이 많은 순 -> 나이 같은 사람은 성별 순으로    name age sex1 이정민  24  남2 김영석  24  남4 최지은  23  여3 고광민  23  남> idx <- order(ex_df$age,ex_df$sex,decreasing = T)> ex_df[idx,]    name age sex1 이정민  24  남2 김영석  24  남4 최지은  23  여3 고광민  23  남> ex_df    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  남4 최지은  23  여> ex_df[3,3] <- "여" # 3번째 행렬, 3번째 열의 데이터를 "여"로 변경> ex_df    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  여4 최지은  23  여> wh_idx <- which(ex_df=="여",arr.ind=T) #"여"가 있는 데이터의 위치 반환(2차원 형태로)> wh_idx     row col[1,]   3   3[2,]   4   3> ex_df[wh_idx] <- "남"> ex_df    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  남4 최지은  23  남> summary(iris)  Sepal.Length    Sepal.Width     Petal.Length    Petal.Width    Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100   1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300   Median :5.800   Median :3.000   Median :4.350   Median :1.300   Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199   3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800   Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500         Species   setosa    :50   versicolor:50   virginica :50                                                  > attach(iris)> iris[Sepal.Length>=median(Sepal.Length),1] <- "over median"> tail(iris[Sepal.Length>=median(Sepal.Length),])    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species145  over median         3.3          5.7         2.5 virginica146  over median         3.0          5.2         2.3 virginica147  over median         2.5          5.0         1.9 virginica148  over median         3.0          5.2         2.0 virginica149  over median         3.4          5.4         2.3 virginica150  over median         3.0          5.1         1.8 virginica> data(iris) # 초기 데이터 다시 불러오기> str(iris)'data.frame':	150 obs. of  5 variables: $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ... $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ... $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...> iris_new <- iris > iris_new$new <- "강연욱"> head(iris_new)  Sepal.Length Sepal.Width Petal.Length Petal.Width Species1          5.1         3.5          1.4         0.2  setosa2          4.9         3.0          1.4         0.2  setosa3          4.7         3.2          1.3         0.2  setosa4          4.6         3.1          1.5         0.2  setosa5          5.0         3.6          1.4         0.2  setosa6          5.4         3.9          1.7         0.4  setosa     new1 강연욱2 강연욱3 강연욱4 강연욱5 강연욱6 강연욱> iris_new <- iris_new[,-6]> head(iris_new)  Sepal.Length Sepal.Width Petal.Length Petal.Width1          5.1         3.5          1.4         0.22          4.9         3.0          1.4         0.23          4.7         3.2          1.3         0.24          4.6         3.1          1.5         0.25          5.0         3.6          1.4         0.26          5.4         3.9          1.7         0.4  Species1  setosa2  setosa3  setosa4  setosa5  setosa6  setosa> iris_new <- iris_new[,-1] # 변수위치로 제거했을때의 위험성> head(iris_new,3)  Sepal.Width Petal.Length Petal.Width Species1         3.5          1.4         0.2  setosa2         3.0          1.4         0.2  setosa3         3.2          1.3         0.2  setosa> > #순위변수 생성하기> > iris_odidx <- order(iris$Sepal.Length, decreasing=T)> iris_od <- iris[iris_odidx,]> head(iris_od)    Sepal.Length Sepal.Width Petal.Length Petal.Width132          7.9         3.8          6.4         2.0118          7.7         3.8          6.7         2.2119          7.7         2.6          6.9         2.3123          7.7         2.8          6.7         2.0136          7.7         3.0          6.1         2.3106          7.6         3.0          6.6         2.1      Species132 virginica118 virginica119 virginica123 virginica136 virginica106 virginica> iris_od&rand <- 1:nrow(iris)Error in iris_od & rand <- 1:nrow(iris) : could not find function "&<-"> iris_od$rand <- 1:nrow(iris)> head(iris_od)    Sepal.Length Sepal.Width Petal.Length Petal.Width132          7.9         3.8          6.4         2.0118          7.7         3.8          6.7         2.2119          7.7         2.6          6.9         2.3123          7.7         2.8          6.7         2.0136          7.7         3.0          6.1         2.3106          7.6         3.0          6.6         2.1      Species rand132 virginica    1118 virginica    2119 virginica    3123 virginica    4136 virginica    5106 virginica    6> iris_new <- iris> colnames(iris_new)[1] "Sepal.Length" "Sepal.Width"  "Petal.Length"[4] "Petal.Width"  "Species"     > colnames(iris_new) <- c("a","b","c","d","e")> colnames(iris_new)[1] "a" "b" "c" "d" "e"> head(iris_new)    a   b   c   d      e1 5.1 3.5 1.4 0.2 setosa2 4.9 3.0 1.4 0.2 setosa3 4.7 3.2 1.3 0.2 setosa4 4.6 3.1 1.5 0.2 setosa5 5.0 3.6 1.4 0.2 setosa6 5.4 3.9 1.7 0.4 setosa> colnames(iris_new)[3] <- "3rd"> head(iris_new)    a   b 3rd   d      e1 5.1 3.5 1.4 0.2 setosa2 4.9 3.0 1.4 0.2 setosa3 4.7 3.2 1.3 0.2 setosa4 4.6 3.1 1.5 0.2 setosa5 5.0 3.6 1.4 0.2 setosa6 5.4 3.9 1.7 0.4 setosa> df <- data.frame(id,name,age,isMarried)> str(df)'data.frame':	4 obs. of  4 variables: $ id       : int  1 2 3 4 $ name     : Factor w/ 4 levels "갑","병","을",..: 1 3 2 4 $ age      : num  22 34 30 28 $ isMarried: logi  FALSE TRUE FALSE TRUE> df$name <- as.character(df$name)> str(df)'data.frame':	4 obs. of  4 variables: $ id       : int  1 2 3 4 $ name     : chr  "갑" "을" "병" "정" $ age      : num  22 34 30 28 $ isMarried: logi  FALSE TRUE FALSE TRUE> str(df$name) chr [1:4] "갑" "을" "병" "정"> #stringasFactor와 같은 맥락인가???> sum(df$age)[1] 114> df$age <- as.character(df$age)> str(df$age) chr [1:4] "22" "34" "30" "28"> sum(df$age)Error in sum(df$age) : invalid 'type' (character) of argument> df$age <- as.numeric(df$age)> str(df$age) num [1:4] 22 34 30 28> sum(df$age)[1] 114> ex_df <- data.frame(name=c("이정민","김영석","고광민","최지은"),age=c(24,24,23,23),sex=c("남","남","남","여"),stringsAsFactors=F)> ex_df    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  남4 최지은  23  여> ex_df2 <- data.frame(name=c("김영석","최지은","고광민","이정민"),birth=c("0617","0921","1013","0216"))> cbind(ex_df,ex_df2)    name age sex   name birth1 이정민  24  남 김영석  06172 김영석  24  남 최지은  09213 고광민  23  남 고광민  10134 최지은  23  여 이정민  0216> ex_df2    name birth1 김영석  06172 최지은  09213 고광민  10134 이정민  0216> merge(ex_df,ex_df2,by=c("name")) # 고유값 정해주기    name age sex birth1 고광민  23  남  10132 김영석  24  남  06173 이정민  24  남  02164 최지은  23  여  0921> rbind(ex_df,c("주은혁",24,"남")) # 행결합    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  남4 최지은  23  여5 주은혁  24  남> rbind(ex_df,c("주은혁",24,"남","0903")) #변수개수가 더 많으면 자동으로 자름    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  남4 최지은  23  여5 주은혁  24  남> ex_df    name age sex1 이정민  24  남2 김영석  24  남3 고광민  23  남4 최지은  23  여> vec_1 <- c(1:5)> vec-1Error: object 'vec' not found> vec_1[1] 1 2 3 4 5> vec_2 <- rep(c(T,F),c(2,3))> vec_2[1]  TRUE  TRUE FALSE FALSE FALSE> vec_3 <- data.frame(name=c("a","b","c","d"),age=seq(22,28,2))> vec_3  name age1    a  222    b  243    c  264    d  28> vec_list <- list(vec_1,vec_2,vec_3)> vec_list[[1]][1] 1 2 3 4 5[[2]][1]  TRUE  TRUE FALSE FALSE FALSE[[3]]  name age1    a  222    b  243    c  264    d  28> vec_list <- list(v1=vec_1,v2=vec_2,v3=vec_3) # 요소 이름 지정> vec_list$v1[1] 1 2 3 4 5$v2[1]  TRUE  TRUE FALSE FALSE FALSE$v3  name age1    a  222    b  243    c  264    d  28> names(vec_list) # 전체 요소 이름만 보기[1] "v1" "v2" "v3"> names(vec_list) <- c("1st","2nd","3rd")> names(vec_list)[1] "1st" "2nd" "3rd"> vec_list$`1st`[1] 1 2 3 4 5> vec_list$`1st`[1] 1 2 3 4 5$`2nd`[1]  TRUE  TRUE FALSE FALSE FALSE$`3rd`  name age1    a  222    b  243    c  264    d  28> #names(vec_list) <- c("1st","2nd","3rd")로 벡터 이름 바꿔줌> vec_list[1]$`1st`[1] 1 2 3 4 5> vec_list[[1]][1] 1 2 3 4 5> str(vec_list[1]); str(vec_list[[1]]) #[]이면 리스트, [[]]이면 벡터List of 1 $ 1st: int [1:5] 1 2 3 4 5 int [1:5] 1 2 3 4 5> vec_list[[1]][1] # 첫번째 요소의 첫번째 벡터 추출[1] 1> str(vec_list)List of 3 $ 1st: int [1:5] 1 2 3 4 5 $ 2nd: logi [1:5] TRUE TRUE FALSE FALSE FALSE $ 3rd:'data.frame':	4 obs. of  2 variables:  ..$ name: Factor w/ 4 levels "a","b","c","d": 1 2 3 4  ..$ age : num [1:4] 22 24 26 28> vec_list[[3]]  name age1    a  222    b  243    c  264    d  28> vec_list[[3]] <- c(2:6)> vec_list[[3]][1] 2 3 4 5 6> vec_list[[3]][2] <- 99> vec_list[[3]][1]  2 99  4  5  6> vec_list$'3rd' <- c(10:15)> vec_list$'3rd'[1] 10 11 12 13 14 15> vec_list[[3]][1] 10 11 12 13 14 15> vec_list$'3rd'[2] <- 99> vec_list$'3rd'[1] 10 99 12 13 14 15> vec_list[[3]][1] 10 99 12 13 14 15> # 요소 삭제> vec_list$'3rd' <- NULL> vec_list$`1st`[1] 1 2 3 4 5$`2nd`[1]  TRUE  TRUE FALSE FALSE FALSE> # 요소 추가> vec_list$`3rd` <- c(T,F,F,T)> vec_list$`1st`[1] 1 2 3 4 5$`2nd`[1]  TRUE  TRUE FALSE FALSE FALSE$`3rd`[1]  TRUE FALSE FALSE  TRUE> vec_list[["4th"]] <- c("new vector")> vec_list$`1st`[1] 1 2 3 4 5$`2nd`[1]  TRUE  TRUE FALSE FALSE FALSE$`3rd`[1]  TRUE FALSE FALSE  TRUE$`4th`[1] "new vector"> vec_list$'5th' <- c("5th vector")> vec_list$`1st`[1] 1 2 3 4 5$`2nd`[1]  TRUE  TRUE FALSE FALSE FALSE$`3rd`[1]  TRUE FALSE FALSE  TRUE$`4th`[1] "new vector"$`5th`[1] "5th vector"> str(iris)'data.frame':	150 obs. of  5 variables: $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ... $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ... $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...> iris_setosa <- subset(iris,Species=="setosa",select = c(-Species)) #setosa 데이터> apply(iris_setosa,1,mean) #행 별    1     2     3     4     5     6     7     8     9 2.550 2.375 2.350 2.350 2.550 2.850 2.425 2.525 2.225    10    11    12    13    14    15    16    17    18 2.400 2.700 2.500 2.325 2.125 2.800 3.000 2.750 2.575    19    20    21    22    23    24    25    26    27 2.875 2.675 2.675 2.675 2.350 2.650 2.575 2.450 2.600    28    29    30    31    32    33    34    35    36 2.600 2.550 2.425 2.425 2.675 2.725 2.825 2.425 2.400    37    38    39    40    41    42    43    44    45 2.625 2.500 2.225 2.550 2.525 2.100 2.275 2.675 2.800    46    47    48    49    50 2.375 2.675 2.350 2.675 2.475 > apply(iris_setosa,2,mean) #열 별Sepal.Length  Sepal.Width Petal.Length  Petal.Width        5.006        3.428        1.462        0.246 > korea_temp <- list("경기"= c(-10, 2, 1, -2), "강원"= c(0, -4, -5, -10))> korea_temp$경기[1] -10   2   1  -2$강원[1]   0  -4  -5 -10> result_lapply <- lapply(korea_temp, mean)> result_lapply$경기[1] -2.25$강원[1] -4.75> result_sapply <- sapply(korea_temp, mean)> result_sapply 경기  강원 -2.25 -4.75 > #결과는 같고, 출력 방식만 다르다.> lapply(iris[,-5],mean)$Sepal.Length[1] 5.843333$Sepal.Width[1] 3.057333$Petal.Length[1] 3.758$Petal.Width[1] 1.199333> sapply(iris[,-5],mean)Sepal.Length  Sepal.Width Petal.Length  Petal.Width     5.843333     3.057333     3.758000     1.199333 > > > tapply_dat <- tapply(iris$Sepal.Length,Species,mean) # 붓꽃 종별 꽃받침 길이의 평균> tapply_dat    setosa versicolor  virginica      5.006      5.936      6.588 > tapply(iris$Sepal.Width,Species,mean) # 꽃받침 너비의 평균    setosa versicolor  virginica      3.428      2.770      2.974 > tapply(iris$Petal.Length,Species,mean) # 꽃잎 길이의 평균    setosa versicolor  virginica      1.462      4.260      5.552 > tapply(iris$Petal.Width,Species,mean) # 꽃잎 너비의 평균    setosa versicolor  virginica      0.246      1.326      2.026 > aggre_dat <- aggregate(Sepal.Length~Species,iris,mean) # 붓꽃 종별 꽃받침 길이의 평균> aggregate(.~Species,iris,mean) # 각 변수의 종별 평균     Species Sepal.Length Sepal.Width Petal.Length1     setosa        5.006       3.428        1.4622 versicolor        5.936       2.770        4.2603  virginica        6.588       2.974        5.552  Petal.Width1       0.2462       1.3263       2.026> str(tapply_dat);str(aggre_dat) num [1:3(1d)] 5.01 5.94 6.59 - attr(*, "dimnames")=List of 1  ..$ : chr [1:3] "setosa" "versicolor" "virginica"'data.frame':	3 obs. of  2 variables: $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 2 3 $ Sepal.Length: num  5.01 5.94 6.59> tapply_dat[2]versicolor      5.936 > aggre_dat[2]  Sepal.Length1        5.0062        5.9363        6.588> aggre_dat[2,2][1] 5.936